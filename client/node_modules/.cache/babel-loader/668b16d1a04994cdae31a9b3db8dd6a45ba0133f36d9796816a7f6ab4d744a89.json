{"ast":null,"code":"// src/index.js\nimport React,{useState}from'react';import{createRoot}from'react-dom/client';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import App from'./App';import AdminAddCars from'./components/AdminAddCars';import Login from'./components/Login';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getIsAuthenticated=()=>{return localStorage.getItem('isAuthenticated')==='true';};const PrivateRoute=_ref=>{let{element}=_ref;return getIsAuthenticated()?element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});};const RootComponent=()=>{const[isAuthenticated,setIsAuthenticated]=useState(getIsAuthenticated());const handleSetIsAuthenticated=value=>{setIsAuthenticated(value);if(value){localStorage.setItem('isAuthenticated','true');}else{localStorage.removeItem('isAuthenticated');}};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/AdminAddCars\",element:/*#__PURE__*/_jsx(PrivateRoute,{element:/*#__PURE__*/_jsx(AdminAddCars,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{setIsAuthenticated:handleSetIsAuthenticated})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(App,{})})]})});};const container=document.getElementById('root');const root=createRoot(container);root.render(/*#__PURE__*/_jsx(RootComponent,{}));","map":{"version":3,"names":["React","useState","createRoot","BrowserRouter","Router","Routes","Route","Navigate","App","AdminAddCars","Login","jsx","_jsx","jsxs","_jsxs","getIsAuthenticated","localStorage","getItem","PrivateRoute","_ref","element","to","replace","RootComponent","isAuthenticated","setIsAuthenticated","handleSetIsAuthenticated","value","setItem","removeItem","children","path","container","document","getElementById","root","render"],"sources":["C:/Users/Ori/OneDrive/מסמכים/GitHub/S.Keysar_CarSite/client/src/index.js"],"sourcesContent":["// src/index.js\nimport React, { useState } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport App from './App';\nimport AdminAddCars from './components/AdminAddCars';\nimport Login from './components/Login';\nimport './index.css';\n\nconst getIsAuthenticated = () => {\n  return localStorage.getItem('isAuthenticated') === 'true';\n};\n\nconst PrivateRoute = ({ element }) => {\n  return getIsAuthenticated() ? element : <Navigate to=\"/login\" replace />;\n};\n\nconst RootComponent = () => {\n  const [isAuthenticated, setIsAuthenticated] = useState(getIsAuthenticated());\n\n  const handleSetIsAuthenticated = (value) => {\n    setIsAuthenticated(value);\n    if (value) {\n      localStorage.setItem('isAuthenticated', 'true');\n    } else {\n      localStorage.removeItem('isAuthenticated');\n    }\n  };\n\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/AdminAddCars\" element={<PrivateRoute element={<AdminAddCars />} />} />\n        <Route path=\"/login\" element={<Login setIsAuthenticated={handleSetIsAuthenticated} />} />\n        <Route path=\"/\" element={<App />} />\n      </Routes>\n    </Router>\n  );\n};\n\nconst container = document.getElementById('root');\nconst root = createRoot(container);\n\nroot.render(<RootComponent />);\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,MAAO,CAAAC,GAAG,KAAM,OAAO,CACvB,MAAO,CAAAC,YAAY,KAAM,2BAA2B,CACpD,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErB,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,MAAO,CAAAC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,GAAK,MAAM,CAC3D,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAAiB,IAAhB,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CAC/B,MAAO,CAAAJ,kBAAkB,CAAC,CAAC,CAAGK,OAAO,cAAGR,IAAA,CAACL,QAAQ,EAACc,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CAC1E,CAAC,CAED,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGxB,QAAQ,CAACc,kBAAkB,CAAC,CAAC,CAAC,CAE5E,KAAM,CAAAW,wBAAwB,CAAIC,KAAK,EAAK,CAC1CF,kBAAkB,CAACE,KAAK,CAAC,CACzB,GAAIA,KAAK,CAAE,CACTX,YAAY,CAACY,OAAO,CAAC,iBAAiB,CAAE,MAAM,CAAC,CACjD,CAAC,IAAM,CACLZ,YAAY,CAACa,UAAU,CAAC,iBAAiB,CAAC,CAC5C,CACF,CAAC,CAED,mBACEjB,IAAA,CAACR,MAAM,EAAA0B,QAAA,cACLhB,KAAA,CAACT,MAAM,EAAAyB,QAAA,eACLlB,IAAA,CAACN,KAAK,EAACyB,IAAI,CAAC,eAAe,CAACX,OAAO,cAAER,IAAA,CAACM,YAAY,EAACE,OAAO,cAAER,IAAA,CAACH,YAAY,GAAE,CAAE,CAAE,CAAE,CAAE,CAAC,cACpFG,IAAA,CAACN,KAAK,EAACyB,IAAI,CAAC,QAAQ,CAACX,OAAO,cAAER,IAAA,CAACF,KAAK,EAACe,kBAAkB,CAAEC,wBAAyB,CAAE,CAAE,CAAE,CAAC,cACzFd,IAAA,CAACN,KAAK,EAACyB,IAAI,CAAC,GAAG,CAACX,OAAO,cAAER,IAAA,CAACJ,GAAG,GAAE,CAAE,CAAE,CAAC,EAC9B,CAAC,CACH,CAAC,CAEb,CAAC,CAED,KAAM,CAAAwB,SAAS,CAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CACjD,KAAM,CAAAC,IAAI,CAAGjC,UAAU,CAAC8B,SAAS,CAAC,CAElCG,IAAI,CAACC,MAAM,cAACxB,IAAA,CAACW,aAAa,GAAE,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}